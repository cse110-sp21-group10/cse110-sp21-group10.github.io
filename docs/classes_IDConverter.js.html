<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>classes/IDConverter.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="BulletEntry.html">BulletEntry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BulletEntry.html#createChild">createChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BulletEntry.html#createLabel">createLabel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BulletEntry.html#removeChild">removeChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BulletEntry.html#removeLabel">removeLabel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BulletEntry.html#setChildren">setChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BulletEntry.html#setLabels">setLabels</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BulletEntry.html#storeToDatabase">storeToDatabase</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DailyLog.html">DailyLog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#createCheckbox">createCheckbox</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#createNumInput">createNumInput</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#createSlider">createSlider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#deleteNoteHandler">deleteNoteHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#deleteSectionHandler">deleteSectionHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#generateBulletID">generateBulletID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#getLastChild">getLastChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#keyCodeListener">keyCodeListener</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#newNoteHandler">newNoteHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#newSectionHandler">newSectionHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DailyLog.html#setBulletData">setBulletData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Database.html">Database</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Database.html#.delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Database.html#.deleteDatabase">deleteDatabase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Database.html#.fetch">fetch</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Database.html#.getEntryKeys">getEntryKeys</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Database.html#.getStoreFromID">getStoreFromID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Database.html#.openDatabase">openDatabase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Database.html#.store">store</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="MonthlyLog.html">MonthlyLog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MonthlyLog.html#deleteNoteHandler">deleteNoteHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MonthlyLog.html#generateBulletID">generateBulletID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MonthlyLog.html#newNoteHandler">newNoteHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MonthlyLog.html#setBulletData">setBulletData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="YearlyLog.html">YearlyLog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="YearlyLog.html#deleteNoteHandler">deleteNoteHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="YearlyLog.html#generateBulletID">generateBulletID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="YearlyLog.html#newNoteHandler">newNoteHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="YearlyLog.html#setBulletData">setBulletData</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#appendWeather">appendWeather</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#indicateMonth">indicateMonth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadDay">loadDay</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadMonth">loadMonth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadStyle">loadStyle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadVars">loadVars</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadYear">loadYear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#navigateEntry">navigateEntry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#navigateUnit">navigateUnit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setupButtons">setupButtons</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#toggleCheck">toggleCheck</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#transitionDaily">transitionDaily</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#transitionMonthly">transitionMonthly</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#transitionYearly">transitionYearly</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#updateEntries">updateEntries</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#updateIndex">updateIndex</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#zoomIn">zoomIn</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#zoomOut">zoomOut</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">classes/IDConverter.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>export class IDConverter {
  /**
   * this function is a helper function that is used to determine the date for a given id. the function
   * parses the given id to determine the year, month, and date, and returns a corresponding date object.
   *
   * @param {string} id - the daily id (with the format 'd yymmdd') to parse
   * @param {string} view - the view to generate the ID for
   * @returns {date} a date object representing the date determined by the id
   */
  static getDateFromID (id, view) {
    // parse year, month, date
    let date, month, year;

    switch (view) {
      case 'day':
        year = Number(id.substring(2, 4)) + 2000;
        month = Number(id.substring(4, 6)) - 1;
        date = Number(id.substring(6, 8));
        break;
      case 'month':
        year = Number(id.substring(2, 4)) + 2000;
        month = Number(id.substring(4, 6));
        date = 0;
        break;
      case 'year':
        year = Number(id.substring(2, 4)) + 2000;
        month = 0;
        date = 1;
        break;
    }

    return new Date(year, month, date);
  }

  /**
   * This function is a helper function that is used to determine the day of the week for a given date.
   * The function takes a Date object, then retrieves and converts the day-of-week integer representation
   * into the corresponding string (English) format.
   *
   * @param {Date} dateObj - The Date object from which to retrieve day-of-week
   * @returns {string} The day of the week, as a string
   */
  static getDayFromDate (dateObj) {
    const dayIndex = dateObj.getDay();
    // convert 0-6 to Sunday-Saturday
    switch (dayIndex) {
      case 0:
        return 'Sunday';
      case 1:
        return 'Monday';
      case 2:
        return 'Tuesday';
      case 3:
        return 'Wednesday';
      case 4:
        return 'Thursday';
      case 5:
        return 'Friday';
      case 6:
        return 'Saturday';
    }
  }

  /**
   * This function is a helper function that is used to determine the month for a given date.
   * The function takes a Date object, then retrieves and converts the month integer
   * representation into the corresponding string (English) format.
   *
   * @param {Date} dateObj - The Date object from which to retrieve month
   * @returns {string} The month, as a string
   */
  static getMonthFromDate (dateObj) {
    const monthIndex = dateObj.getMonth();
    // convert 0-11 to January-December
    switch (monthIndex) {
      case 0:
        return 'January';
      case 1:
        return 'February';
      case 2:
        return 'March';
      case 3:
        return 'April';
      case 4:
        return 'May';
      case 5:
        return 'June';
      case 6:
        return 'July';
      case 7:
        return 'August';
      case 8:
        return 'September';
      case 9:
        return 'October';
      case 10:
        return 'November';
      case 11:
        return 'December';
    }
  }

  /**
   * This function is a helper function that is used to determine the suffix for a given
   * date based on how it would be read. The function takes a Date object, then retrieves
   * the date integer and determines the suffix for the date integer that should be
   * displayed. &lt;p>
   *
   * date integer ending in 1 -> suffix 'st' &lt;p>
   * date integer ending in 2 -> suffix 'nd' &lt;p>
   * date integer ending in 3 -> suffix 'rd' &lt;p>
   * date integer ending in 0 or 4-9 -> suffix 'th' &lt;p>
   * special cases: date integers 11, 12, and 13 -> suffix 'th'
   *
   * @param {Date} dateObj - The Date object from which to retrieve the date and determine its suffix
   * @returns {string} The suffix ('st', 'nd', 'rd', 'th') corresponding to the date integer
   */
  static getSuffixOfDate (dateObj) {
    const date = dateObj.getDate();

    // possible suffixes
    const ST = 'st';
    const ND = 'nd';
    const RD = 'rd';
    const TH = 'th';

    /*
      11, 12, 13 are special 'th'
      for all other ones digits:
      1 -> 'st'
      2 -> 'nd'
      3 -> 'rd'
      0, 4-9 -> 'th'
      (no need to address any number greater than 31 because there are at most 31 days in a month)
    */
    if (date === 11 || date === 12 || date === 13) {
      return TH;
    } else if (date % 10 === 1) {
      return ST;
    } else if (date % 10 === 2) {
      return ND;
    } else if (date % 10 === 3) {
      return RD;
    } else {
      return TH;
    }
  }

  /**
   * This function is a helper function to convert an ID number into the right string format.
   * IDs for our objects are stored as strings, and if the number is less than 10, the string
   * representation we use has a 0 in front of the number. For example a section number 1 would
   * have an ID of '01'.
   *
   * @param {number} num - the integer that is being stringified
   * @returns {string} a string representation of the number that can be used in object IDs
   */
  static stringifyNum (num) {
    if (num &lt; 10) {
      return `0${num}`;
    }
    return `${num}`;
  }

  /**
 * Uses date to generate the correct ID for the given object type &lt;p>
 *
 * Creates 2-digit YY, MM, and DD from currDate variables to use in ID generation &lt;p>
 *
 * Figures out which ID format to generate based off type and generates correct ID
 * (refer to Design Notes and data models for examples of ID formats)
 *
 * @param {string} type - Type of data object to generate ID for
 * @param {Date} date - The date to generate the ID for
 * @returns {string} The objects ID
 *
 */
  static generateID (type, date) {
    let day = date.getDate();
    day = (day &lt; 10 ? '0' : '') + day;
    let month = date.getMonth() + 1;
    month = (month &lt; 10 ? '0' : '') + month;
    const year = date.getFullYear() % 100;

    switch (type) {
      case 'day':
        return `D ${year}${month}${day}`;
      case 'month':
        return `M ${year}${month}`;
      case 'year':
        return `Y ${year}`;
      default:
        console.error(`No implementation yet for generating ${type} IDs`);
    }
  }

  /**
   * Generates the index for where given ID should be located in sorted array of IDs &lt;p>
   *
   * Uses binary search for O(log n) runtime, and performs a dual function of both
   * looking up indices for existing IDs as well as deciding where new IDs would be
   * inserted to maintain the sorted structure
   *
   * @param {Array.&lt;string>} entries - dayIDs of current entries
   * @param {string} ID - dayID to either lookup or add to entries
   * @returns {Number} index that ID belongs in list
   */
  static generateIndex (entries, ID) {
    let low = 0;
    let high = entries.length;

    while (low &lt; high) {
      const mid = low + high >>> 1;
      if (entries[mid] &lt; ID) {
        low = mid + 1;
      } else {
        high = mid;
      }
    }

    return low;
  }
}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Wed Jun 09 2021 22:43:54 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
